GAS LISTING constToMemory.s 			page 1


   1              	# constToMemory.s
   2              	# Some instructions to illustrate machine code.
   3              	        .intel_syntax noprefix
   4              	        .text
   5              	        .globl  main
   6              	        .type   main, @function
   7              	main:
   8 0000 55       	        push    rbp         # save caller's frame pointer
   9 0001 4889E5   	        mov     rbp, rsp    # establish our frame pointer
  10 0004 4883EC30 	        sub     rsp, 48     # local variables
  11              	        
  12 0008 48C7C105 	        mov     rcx, 5              # for indexing
  12      000000
  13 000f 8B4500   	        mov     eax, [rbp]          # indirect
  14 0012 C745D034 	        mov     dword ptr -48[rbp], 0x12000034       # indirect + offset  
  14      000012
  15 0019 C7440D30 	        mov     dword ptr 48[rbp+rcx], 0x56000078   # indirect + offset and index 
  15      78000056 
  16 0021 C7448DD0 	        mov     dword ptr -48[rbp+4*rcx], 0x91000023 #      and scaled index 
  16      23000091 
  17              	       
  18 0029 B8000000 	        mov     eax, 0      # return 0 to os
  18      00
  19 002e 4889EC   	        mov     rsp, rbp    # restore stack pointer
  20 0031 5D       	        pop     rbp         #   and frame pointer
  21 0032 C3       	        ret                 # back to caller
